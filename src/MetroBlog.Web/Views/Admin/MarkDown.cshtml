
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Editor</title>
    <link href="~/public/assets/css/vendor/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="~/public/editormd/css/editormd.min.css" rel="stylesheet" />
    <style type="text/css" media="screen">
        body {
            overflow: hidden;
        }
    </style>
</head>
<body>

    <div id="editor">
    </div>

    <div class="text-center">
        <input id="btnClose" type="button" class="btn btn-primary" value="关闭编辑器" />
    </div>

    <script src="~/public/js/modules/jquery.js"></script>
    <script src="~/public/editormd/editormd.js"></script>
    <script type="text/javascript">

        function load() {
            var _editormd = editormd("editor", {
                width: "100%",
                height: 640,
                markdown: window.getContent(),
                syncScrolling: "single",
                path: "/public/editormd/lib/",
                imageUpload: true,
                imageFormats: ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
                imageUploadURL: "/api/upload",
                onchange: function () {
                    window.setContent(this.getMarkdown());
                }
            });
        }
        $(function () {
            if (window.getContent) {
                load();
            }
            $("#btnClose").click(function () {
                window.closeLayer();
            });
        });
    </script>


</body>
</html>
