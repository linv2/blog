@{
    Layout = "_Layout.cshtml";
    ViewBag.Icon = "list-ul";
    ViewBag.Title = "分类管理";
}
@section script{
    <script type="text/javascript">
        seajs.use("category");
    </script>
    <style type="text/css">
        section.tile {
            min-height: 400px;
        }
    </style>
}
<div class="row">
    <section class="tile" id="categorylist">


        <!-- tile header -->
        <div class="tile-header">
            <h1><strong>所有分类</strong> </h1>
            <div class="controls">
                <a href="javascript:;" data-bind="click:events.refresh"><i class="fa fa-refresh"></i></a>

                <a href="javascript:;" data-bind="click:events.add"><i class="fa fa-plus"></i></a>
            </div>

        </div>
        <!-- /tile header -->
        <!-- tile body -->
        <div class="tile-body nopadding">

            <table class="table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>名字</th>
                        <th>关键字</th>
                        <th>排序号</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody data-bind="foreach: category">
                    <tr>
                        <td data-bind="text: id"></td>
                        <td data-bind="text: name"></td>
                        <td data-bind="text: keyWord"></td>
                        <td data-bind="text: sortId"></td>
                        <td>
                            <div class="btn-group margin-bottom-20">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                    操作 <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" role="menu">
                                    <li><a href="javascript:;" data-bind="click: $parent.events.edit">修改</a></li>
                                    <li><a href="javascript:;" data-bind="click: $parent.events.remove">删除</a></li>
                                    <li><a href="javascript:;" data-bind="click: $parent.events.updateCount">更新数量</a></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
        <!-- /tile body -->



    </section>
    <div class="hide">
        <div id="editDialog">
            <div class="modal-content ">
                <div class="modal-header">
                    <button type="button" class="close" data-bind="click:closeDialog">Close</button>
                    <h3 class="modal-title" id="modalConfirmLabel"><strong>分类操作</strong></h3>
                </div>
                <div class="modal-body">
                    <form id="filterForm" role="form" class="form-horizontal">

                        <div class="form-group">
                            <label for="exampleInput">分类名称 *</label>
                            <input type="text" class="form-control" data-bind="value:name">
                        </div>
                        <div class="form-group">
                            <label for="exampleInput">关键字 *</label>
                            <input type="text" class="form-control" data-bind="value:keyWord">
                        </div>
                        <div class="form-group">
                            <label for="exampleInput">描述</label>
                            <textarea class="form-control" rows="3" placeholder="请输入页面描述" data-bind="value:description"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="exampleInput">排序id</label>
                            <input type="text" class="form-control" data-bind="value:sortId">
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <input type="button" class="btn btn-primary" value="保存数据" data-bind="click:saveData" />

                    <input type="button" class="btn btn-default" value="关闭" data-bind="click:closeDialog" />
                </div>
            </div>
        </div>
    </div>

</div>